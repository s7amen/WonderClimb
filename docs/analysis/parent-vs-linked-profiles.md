# –ê–Ω–∞–ª–∏–∑: Linked Profiles vs Family - –†–∞–∑–ª–∏—á–∏—è –∏ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

## –¢–µ–∫—É—â–æ –°—ä—Å—Ç–æ—è–Ω–∏–µ

### 1. **Linked Profiles System** (–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ - –ø–æ-—à–∏—Ä–æ–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è)
**–¶–µ–ª:** –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –º–æ–∂–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ **–ó–ê** —Å–≤—ä—Ä–∑–∞–Ω–∏ –ø—Ä–æ—Ñ–∏–ª–∏

**–í–∞–∂–Ω–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ:** –ù–ï –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –≤—Ä—ä–∑–∫–∞—Ç–∞ –¥–∞ –µ —Ä–æ–¥–∏—Ç–µ–ª‚Üí–¥–µ—Ç–µ!
- ‚úÖ –†–æ–¥–∏—Ç–µ–ª ‚Üí –¥–µ—Ç–µ
- ‚úÖ –ß–∏—á–æ/–ª–µ–ª—è ‚Üí –ø–ª–µ–º–µ–Ω–Ω–∏–∫
- ‚úÖ –ü—Ä–∏—è—Ç–µ–ª ‚Üí –ø—Ä–∏—è—Ç–µ–ª—Å–∫–æ –¥–µ—Ç–µ
- ‚úÖ –í—Å—è–∫–∞–∫–≤–∞ –¥—Ä—É–≥–∞ —É–ø—ä–ª–Ω–æ–º–æ—â–µ–Ω–∞ –≤—Ä—ä–∑–∫–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
- User A (—Å –∞–∫–∞—É–Ω—Ç) —Å–≤—ä—Ä–∑–≤–∞ –ø—Ä–æ—Ñ–∏–ª –Ω–∞ User B (–º–æ–∂–µ –¥–∞ –Ω—è–º–∞ –∞–∫–∞—É–Ω—Ç)
- User A —Å—ä–∑–¥–∞–≤–∞/—É–ø—Ä–∞–≤–ª—è–≤–∞ –ø—Ä–æ—Ñ–∏–ª–∏ –∑–∞ User B (—Å—ä—â–æ `User`, –Ω–æ **–±–µ–∑ email/password**)
- `ParentClimberLink` —Å–≤—ä—Ä–∑–≤–∞ —Ä–æ–¥–∏—Ç–µ–ª ‚Üí –¥–µ—Ç–µ
- –î–µ—Ü–∞—Ç–∞ —Å–∞ **–Ω–µ–∞–∫—Ç–∏–≤–Ω–∏** –¥–æ–∫–∞—Ç–æ –Ω–µ —Å–µ –∞–∫—Ç–∏–≤–∏—Ä–∞—Ç (–¥–æ–±–∞–≤–∏ email + password)
- –†–æ–¥–∏—Ç–µ–ª—è—Ç –≤–∏–∂–¥–∞ –∏ —É–ø—Ä–∞–≤–ª—è–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –Ω–∞ –¥–µ—Ü–∞—Ç–∞ —Å–∏

**Use Case:**
```
–†–æ–¥–∏—Ç–µ–ª –ò–≤–∞–Ω (—Å –∞–∫–∞—É–Ω—Ç):
  ‚îú‚îÄ –°—ä–∑–¥–∞–≤–∞ –ø—Ä–æ—Ñ–∏–ª –∑–∞ –¥—ä—â–µ—Ä—è —Å–∏ –ú–∞—Ä–∏—è (8 –≥–æ–¥) - –ë–ï–ó email
  ‚îú‚îÄ –†–µ–∑–µ—Ä–≤–∏—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞ –ú–∞—Ä–∏—è
  ‚îú‚îÄ –í–∏–∂–¥–∞ –≤—Å–∏—á–∫–∏ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –Ω–∞ –ú–∞—Ä–∏—è
  ‚îî‚îÄ –ü–æ-–∫—ä—Å–Ω–æ: –∞–∫—Ç–∏–≤–∏—Ä–∞ –ø—Ä–æ—Ñ–∏–ª–∞ –Ω–∞ –ú–∞—Ä–∏—è (–¥–æ–±–∞–≤—è email) ‚Üí —Ç—è –ø–æ–ª—É—á–∞–≤–∞ —Å–æ–±—Å—Ç–≤–µ–Ω –∞–∫–∞—É–Ω—Ç
```

**Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **–ú–æ–¥–µ–ª–∏:** `ParentClimberLink`, `ParentInfo`
- **Endpoints:** `/api/v1/parents/me/climbers`, `/api/v1/parents/me/bookings`
- **Booking:** `Booking` –∏–º–∞ `climberId` (–¥–µ—Ç–µ—Ç–æ) –∏ `bookedById` (—Ä–æ–¥–∏—Ç–µ–ª—è)

---

### 2. **Family System** (–ó–∞–ª–∞/Gym Cards - —Ç—è—Å–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ)
**–¶–µ–ª:** –Ø–¥—Ä–µ–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ —Å–ø–æ–¥–µ–ª—è **–µ–¥–Ω–∞ –∫–∞—Ä—Ç–∞ –∑–∞ –∑–∞–ª–∞—Ç–∞**

**–í–∞–∂–Ω–æ —É—Ç–æ—á–Ω–µ–Ω–∏–µ:** –°–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ –µ **–°–¢–†–û–ì–û —Ä–æ–¥–∏—Ç–µ–ª + –¥–µ—Ü–∞** (blood relatives)!
- ‚úÖ –ú–∞–π–∫–∞/–±–∞—â–∞ + —Ç–µ—Ö–Ω–∏—Ç–µ –¥–µ—Ü–∞
- ‚ùå –ù–ï –ø–ª–µ–º–µ–Ω–Ω–∏—Ü–∏
- ‚ùå –ù–ï –ø—Ä–∏—è—Ç–µ–ª—Å–∫–∏ –¥–µ—Ü–∞

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∏:**
- `Family` –µ –æ—Ç–¥–µ–ª–Ω–∞ –∫–æ–ª–µ–∫—Ü–∏—è —Å `memberIds[]` (—Ä–æ–¥–∏—Ç–µ–ª + –±–∏–æ–ª–æ–≥–∏—á–Ω–∏/–æ—Å–∏–Ω–æ–≤–µ–Ω–∏ –¥–µ—Ü–∞)
- `GymPass` –º–æ–∂–µ –¥–∞ –∏–º–∞ `familyId` –≤–º–µ—Å—Ç–æ `userId`
- –ü—Ä–∏ check-in –≤ –∑–∞–ª–∞—Ç–∞, –≤—Å–µ–∫–∏ —á–ª–µ–Ω –Ω–∞ —Å–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ –º–æ–∂–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ–º–µ–π–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∞
- –ö–∞—Ä—Ç–∞—Ç–∞ –µ –Ω–∞ —Å–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ, –Ω–µ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥

**Use Case:**
```
–°–µ–º–µ–π—Å—Ç–≤–æ "–ò–≤–∞–Ω–æ–≤–∏":
  ‚îú‚îÄ –ß–ª–µ–Ω–æ–≤–µ: –ò–≤–∞–Ω (–±–∞—â–∞), –ú–∞—Ä–∏—è (–¥—ä—â–µ—Ä—è), –ü–µ—Ç—ä—Ä (—Å–∏–Ω)
  ‚îú‚îÄ –°–µ–º–µ–π–Ω–∞ –∫–∞—Ä—Ç–∞: "–ú–µ—Å–µ—á–Ω–∞ —Å–µ–º–µ–π–Ω–∞ –∫–∞—Ä—Ç–∞" (–Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è)
  ‚îú‚îÄ –ò–≤–∞–Ω –≤–ª–∏–∑–∞ –≤ –∑–∞–ª–∞—Ç–∞ ‚Üí –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ–º–µ–π–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∞
  ‚îú‚îÄ –ú–∞—Ä–∏—è –≤–ª–∏–∑–∞ –≤ –∑–∞–ª–∞—Ç–∞ ‚Üí –∏–∑–ø–æ–ª–∑–≤–∞ —Å–µ–º–µ–π–Ω–∞—Ç–∞ –∫–∞—Ä—Ç–∞
  ‚îî‚îÄ –ö–∞—Ä—Ç–∞—Ç–∞ —Å–µ —Å–ø–æ–¥–µ–ª—è, –Ω–µ —Å–µ –Ω–∞–º–∞–ª—è–≤–∞—Ç –ø–æ—Å–µ—â–µ–Ω–∏—è –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥
```

**Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **–ú–æ–¥–µ–ª–∏:** `Family`, `GymPass.familyId`, `GymVisit.familyId`
- **Endpoints:** `/api/v1/families/*`
- **Billing:** –ö–∞—Ä—Ç–∞—Ç–∞ —Å–µ –ø–ª–∞—â–∞ –≤–µ–¥–Ω—ä–∂, –ø–æ–ª–∑–≤–∞ —Å–µ –æ—Ç —Ü—è–ª–æ—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –†–∞–∑–ª–∏–∫–∏ –∏ –û–±—â–∏ –ù–µ—â–∞

| –ê—Å–ø–µ–∫—Ç | Linked Profiles (–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏) | Family (–ó–∞–ª–∞) |
|--------|------------------------------|---------------|
| **–û—Å–Ω–æ–≤–Ω–∞ —Ü–µ–ª** | –†–µ–∑–µ—Ä–≤–∏—Ä–∞–Ω–µ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –ó–ê –¥—Ä—É–≥–∏ | –°–ø–æ–¥–µ–ª—è–Ω–µ –Ω–∞ –∞–±–æ–Ω–∞–º–µ–Ω—Ç |
| **Relationship —Ç–∏–ø** | **–í—Å—è–∫–∞–∫–≤–∞ —É–ø—ä–ª–Ω–æ–º–æ—â–µ–Ω–∞ –≤—Ä—ä–∑–∫–∞** (—Ä–æ–¥–∏—Ç–µ–ª, —á–∏—á–æ, –ø—Ä–∏—è—Ç–µ–ª) | **–°–¢–†–û–ì–û —è–¥—Ä–µ–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ** (—Ä–æ–¥–∏—Ç–µ–ª + –¥–µ—Ü–∞) |
| **User accounts** | –°–≤—ä—Ä–∑–∞–Ω–∏—Ç–µ **–±–µ–∑** email (–Ω–µ–∞–∫—Ç–∏–≤–Ω–∏) | –í—Å–∏—á–∫–∏ —á–ª–µ–Ω–æ–≤–µ —Å–∞ –∞–∫—Ç–∏–≤–Ω–∏ Users (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ) |
| **Authorization** | User A –¥–µ–π—Å—Ç–≤–∞ –û–¢ –ò–ú–ï–¢–û –Ω–∞ User B | –í—Å–µ–∫–∏ —á–ª–µ–Ω –¥–µ–π—Å—Ç–≤–∞ –∑–∞ —Å–µ–±–µ —Å–∏ |
| **Billing** | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–∏ –∫–∞—Ä—Ç–∏ –∑–∞ –≤—Å–µ–∫–∏ | –ï–¥–Ω–∞ —Å–ø–æ–¥–µ–ª–µ–Ω–∞ –∫–∞—Ä—Ç–∞ |
| **Use case** | "–†–µ–∑–µ—Ä–≤–∏—Ä–∞–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∑–∞ –ø–ª–µ–º–µ–Ω–Ω–∏–∫–∞ —Å–∏" | "–°–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ –∏–º–∞ –∫–∞—Ä—Ç–∞ –∑–∞ –∑–∞–ª–∞—Ç–∞" |
| **Data model** | `ParentClimberLink` (1:N) ‚Üí –Ω—É–∂–¥–∞ –æ—Ç rename | `Family.memberIds[]` (M:N) |
| **Pass ownership** | `TrainingPass.userId` = —Å–≤—ä—Ä–∑–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª | `GymPass.familyId` = —Å–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ |
| **–ì—ä–≤–∫–∞–≤–æ—Å—Ç** | –ú–Ω–æ–≥–æ –≥—ä–≤–∫–∞–≤–∞ - –≤—Å—è–∫–∞–∫–≤–∞ –≤—Ä—ä–∑–∫–∞ | –°—Ç—Ä–æ–≥–∞ - —Å–∞–º–æ blood relatives |

---

## –í—ä–∑–º–æ–∂–Ω–∏ –ü–æ–¥—Ö–æ–¥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: **–ó–∞–ø–∞–∑–≤–∞–Ω–µ –Ω–∞ –¥–≤–µ—Ç–µ —Å–∏—Å—Ç–µ–º–∏** (–°—Ç–∞—Ç—É–∫–≤–æ—Ç–æ)
**–ü–ª—é—Å–æ–≤–µ:**
- ‚úÖ –Ø—Å–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏—Ç–µ
- ‚úÖ Training bookings –∏ gym check-ins —Å–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª–Ω–æ
- ‚úÖ –ù–µ —Å–µ –Ω–∞–ª–∞–≥–∞ –≥–æ–ª—è–º–∞ –ø—Ä–æ–º—è–Ω–∞

**–ú–∏–Ω—É—Å–∏:**
- ‚ùå –î—É–±–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–¥ (2 –Ω–∞—á–∏–Ω–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–∞—Ç —Ö–æ—Ä–∞)
- ‚ùå –û–±—ä—Ä–∫–≤–∞–Ω–µ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ ("–∑–∞—â–æ –∏–º–∞ parent –ò family?")
- ‚ùå –ü–æ–¥–¥—Ä—ä–∂–∫–∞ –Ω–∞ 2 —Å–∏—Å—Ç–µ–º–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: **–û–±–µ–¥–∏–Ω—è–≤–∞–Ω–µ** (Parent-Child ‚Üí Family –∑–∞ –≤—Å–∏—á–∫–æ)
**–ò–¥–µ—è:** 
- –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ `ParentClimberLink`
- –ò–∑–ø–æ–ª–∑–≤–∞–º–µ `Family` –∏ –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –∏ –∑–∞ –∑–∞–ª–∞
- –†–æ–¥–∏—Ç–µ–ª + –¥–µ—Ü–∞ = –µ–¥–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ
- –†–æ–¥–∏—Ç–µ–ª—è—Ç –º–æ–∂–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∑–∞ —á–ª–µ–Ω–æ–≤–µ—Ç–µ –Ω–∞ —Å–µ–º–µ–π—Å—Ç–≤–æ—Ç–æ —Å–∏

**–ö–∞–∫ –±–∏ —Ä–∞–±–æ—Ç–∏–ª–æ:**

```javascript
// –°–µ–º–µ–π—Å—Ç–≤–æ "–ò–≤–∞–Ω–æ–≤–∏"
Family {
  name: "–°–µ–º–µ–π—Å—Ç–≤–æ –ò–≤–∞–Ω–æ–≤–∏",
  memberIds: [
    userId_–ò–≤–∞–Ω,     // –ê–∫—Ç–∏–≤–µ–Ω –∞–∫–∞—É–Ω—Ç
    userId_–ú–∞—Ä–∏—è,    // –ù–µ–∞–∫—Ç–∏–≤–µ–Ω (–±–µ–∑ email)
    userId_–ü–µ—Ç—ä—Ä     // –ù–µ–∞–∫—Ç–∏–≤–µ–Ω (–±–µ–∑ email)
  ],
  primaryContact: userId_–ò–≤–∞–Ω
}

// –†–µ–∑–µ—Ä–≤–∞—Ü–∏—è –∑–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
Booking {
  sessionId: "...",
  climberId: userId_–ú–∞—Ä–∏—è,  // –ó–∞ –∫–æ–≥–æ –µ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è—Ç–∞
  bookedById: userId_–ò–≤–∞–Ω,  // –ö–æ–π —è –Ω–∞–ø—Ä–∞–≤–∏
  familyId: familyId_–ò–≤–∞–Ω–æ–≤–∏ // OPTIONAL: –∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç
}

// –°–µ–º–µ–π–Ω–∞ –∑–∞–ª–∞ –∫–∞—Ä—Ç–∞
GymPass {
  familyId: familyId_–ò–≤–∞–Ω–æ–≤–∏,
  type: "time_based",
  name: "–ú–µ—Å–µ—á–Ω–∞ —Å–µ–º–µ–π–Ω–∞ –∫–∞—Ä—Ç–∞"
}
```

**–ü–ª—é—Å–æ–≤–µ:**
- ‚úÖ –ï–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –≤—Ä—ä–∑–∫–∏ –º–µ–∂–¥—É —Ö–æ—Ä–∞
- ‚úÖ –ü–æ-—è—Å–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∑–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ
- ‚úÖ –ö–æ–¥—ä—Ç –µ –ø–æ-—á–∏—Å—Ç –∏ –ø–æ-–ª–µ—Å–µ–Ω –∑–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞
- ‚úÖ –ú–æ–∂–µ –¥–∞ —Å–µ –∫–æ–º–±–∏–Ω–∏—Ä–∞—Ç: —Å–µ–º–µ–π—Å—Ç–≤–æ —Å —Ç—Ä–µ–Ω–∏—Ä–æ–≤—ä—á–Ω–∏ –∏ gym –∫–∞—Ä—Ç–∏

**–ú–∏–Ω—É—Å–∏:**
- ‚ùå –ì–æ–ª—è–º–∞ –º–∏–≥—Ä–∞—Ü–∏—è (17+ frontend —Ñ–∞–π–ª–∞)
- ‚ùå –¢—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∑–∞–ø–∞–∑–∏ –ª–æ–≥–∏–∫–∞—Ç–∞: –Ω–µ–∞–∫—Ç–∏–≤–Ω–∏ –¥–µ—Ü–∞, –∞–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–∞ –ø—Ä–æ—Ñ–∏–ª–∏
- ‚ùå –í—ä–∑–º–æ–∂–Ω–∏ breaking changes

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: **–•–∏–±—Ä–∏–¥–µ–Ω –ø–æ–¥—Ö–æ–¥** (–ü—Ä–µ–ø–æ—Ä—ä–∫–∞)
**–ò–¥–µ—è:**
- –ó–∞–ø–∞–∑–≤–∞–º–µ `Family` –∑–∞ **—Å–ø–æ–¥–µ–ª–µ–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏** (gym cards, —Å–µ–º–µ–π–Ω–∏ –∞–±–æ–Ω–∞–º–µ–Ω—Ç–∏)
- –í—ä–≤–µ–∂–¥–∞–º–µ **"Linked Profiles"** –∫–∞—Ç–æ lightweight –≤—Ä—ä–∑–∫–∞ –∑–∞ **booking authorization**
- –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ `ParentClimberLink`, –Ω–æ –∑–∞–ø–∞–∑–≤–∞–º–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞

**–ö–∞–∫ –±–∏ —Ä–∞–±–æ—Ç–∏–ª–æ:**

```javascript
// User –º–æ–¥–µ–ª (—Ä–∞–∑—à–∏—Ä—è–≤–∞–º–µ)
User {
  _id: userId_–ò–≤–∞–Ω,
  email: "ivan@example.com",
  roles: ["climber"],
  linkedProfiles: [userId_–ú–∞—Ä–∏—è, userId_–ü–µ—Ç—ä—Ä] // –ú–æ–∂–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞ –∑–∞ —Ç—è—Ö
}

User {
  _id: userId_–ú–∞—Ä–∏—è,
  email: null, // –ù–µ–∞–∫—Ç–∏–≤–Ω–∞
  roles: ["climber"],
  accountStatus: "inactive",
  linkedTo: userId_–ò–≤–∞–Ω // –û–±—Ä–∞—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞
}

// Family (–∑–∞ —Å–ø–æ–¥–µ–ª–µ–Ω–∏ –∫–∞—Ä—Ç–∏)
Family {
  name: "–°–µ–º–µ–π—Å—Ç–≤–æ –ò–≤–∞–Ω–æ–≤–∏",
  memberIds: [userId_–ò–≤–∞–Ω, userId_–ú–∞—Ä–∏—è, userId_–ü–µ—Ç—ä—Ä]
}
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ –Ø—Å–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:
  - **`User.linkedProfiles`** ‚Üí "–ú–æ–≥–∞ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞–º –ó–ê..."
  - **`Family`** ‚Üí "–°–ø–æ–¥–µ–ª—è–º–µ –∫–∞—Ä—Ç–∞/—Ä–µ—Å—É—Ä—Å–∏"
- ‚úÖ –ù–µ —Å–µ –Ω—É–∂–¥–∞–µ–º –æ—Ç –æ—Ç–¥–µ–ª–Ω–∞ –∫–æ–ª–µ–∫—Ü–∏—è `ParentClimberLink`
- ‚úÖ –ü–æ-–ª–µ—Å–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è (—Å–∞–º–æ –¥–æ–±–∞–≤—è–º–µ –ø–æ–ª–µ—Ç–∞ –∫—ä–º `User`)
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ –æ—Å—Ç–∞–≤–∞ —Å—ä—â–∞—Ç–∞

**–ú–∏–≥—Ä–∞—Ü–∏—è:**
```javascript
// –ó–∞ –≤—Å–µ–∫–∏ ParentClimberLink
const link = ParentClimberLink.findOne({ parentId: X, climberId: Y });

// –î–æ–±–∞–≤—è–º–µ –∫—ä–º User –º–æ–¥–µ–ª–∞
User.findByIdAndUpdate(X, {
  $addToSet: { linkedProfiles: Y }
});

User.findByIdAndUpdate(Y, {
  linkedTo: X
});
```

---

## –ü—Ä–µ–ø–æ—Ä—ä–∫–∞ (–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–∞)

üéØ **–ó–∞–ø–∞–∑–≤–∞–º–µ –ò –¥–≤–µ—Ç–µ —Å–∏—Å—Ç–µ–º–∏ + –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ**

–°—ä–≥–ª–∞—Å–Ω–æ —Ä–∞–∑—è—Å–Ω–µ–Ω–∏—è—Ç–∞:
- **Linked Profiles** ‚â† —Å–∞–º–æ —Ä–æ–¥–∏—Ç–µ–ª-–¥–µ—Ç–µ ‚Üí –ø–æ-—à–∏—Ä–æ–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
- **Family** = —Å—Ç—Ä–æ–≥–æ —è–¥—Ä–µ–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ (—Ä–æ–¥–∏—Ç–µ–ª + –¥–µ—Ü–∞)
- **–¢–µ –ù–ï —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –æ–±–µ–¥–∏–Ω—è–≤–∞—Ç** - —Å–ª—É–∂–∞—Ç –∑–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ —Ü–µ–ª–∏!

### –°—Ç—ä–ø–∫–∏ –∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

1. **–ü—Ä–µ–∏–º–µ–Ω—É–≤–∞–º–µ "parent" —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è—Ç–∞** (–∑–∞ —è—Å–Ω–æ—Ç–∞):
   ```
   ParentClimberLink ‚Üí LinkedProfile (–∏–ª–∏ AuthorizedProfile)
   ParentInfo ‚Üí –º–æ–∂–µ –¥–∞ —Å–µ –ø—Ä–µ–º–∞—Ö–Ω–µ (–≤–µ—á–µ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞?)
   /api/v1/parents/* ‚Üí /api/v1/linked-profiles/*
   parentClimbersAPI ‚Üí linkedProfilesAPI
   ```

2. **–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–∞–º–µ –∫–æ–ª–µ–∫—Ü–∏–∏—Ç–µ** (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ - –∑–∞–≤–∏—Å–∏ –æ—Ç preference):
   - –í–∞—Ä–∏–∞–Ω—Ç A: –ó–∞–ø–∞–∑–≤–∞–º–µ `ParentClimberLink` (—Å–∞–º–æ –≥–æ –ø—Ä–µ–∏–º–µ–Ω—É–≤–∞–º–µ)
   - –í–∞—Ä–∏–∞–Ω—Ç B: –ú–∏–≥—Ä–∏—Ä–∞–º–µ –∫—ä–º `User.linkedProfiles[]` –ø–æ–ª–µ

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–º–µ –æ–±—â–∏—è –∫–æ–¥:**
   - –°—ä–∑–¥–∞–≤–∞–º–µ —Å–ø–æ–¥–µ–ª–µ–Ω–∞ service –ª–æ–≥–∏–∫–∞ –∑–∞ "can user X act for user Y?"
   - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–∞–º–µ –ø—Ä–æ–≤–µ—Ä–∫–∏—Ç–µ –∑–∞ authorization

4. **–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–º–µ Frontend —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è:**
   - "My Children" ‚Üí "Linked Profiles" –∏–ª–∏ "–£–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∏ –ø—Ä–æ—Ñ–∏–ª–∏"
   - –ó–∞–ø–∞–∑–≤–∞–º–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ 100%

5. **–î–æ–±–∞–≤—è–º–µ —è—Å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - **Linked Profiles** = –ú–æ–∂–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞–º –ó–ê (—à–∏—Ä–æ–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è)
   - **Family** = –°–ø–æ–¥–µ–ª—è–º–µ gym –∫–∞—Ä—Ç–∏ (—Å—Ç—Ä–æ–≥–æ —è–¥—Ä–µ–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ)

---

## –û—Ç–≥–æ–≤–æ—Ä –Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–∏—Ç–µ –≤—ä–ø—Ä–æ—Å–∏:

### "–î–∞–ª–∏ –µ –ø–æ–¥—Ö–æ–¥—è—â–æ –¥–∞ —Å–µ –æ–±–µ–¥–∏–Ω—è—Ç?"
**–ù–ï** - —Ç–µ —Å–ª—É–∂–∞—Ç –∑–∞ **—Ä–∞–∑–ª–∏—á–Ω–∏ —Ü–µ–ª–∏**:
- **Linked Profiles:** –£–ø—ä–ª–Ω–æ–º–æ—â–∞–≤–∞–Ω–µ –∑–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ (–º–æ–∂–µ –¥–∞ –≤–∫–ª—é—á–≤–∞ –ù–ï-—Ä–æ–¥–Ω–∏–Ω–∏)
- **Family:** –°–ø–æ–¥–µ–ª—è–Ω–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å–∏ (–°–ê–ú–û —è–¥—Ä–µ–Ω–æ —Å–µ–º–µ–π—Å—Ç–≤–æ)

### "–ö–∞–∫ –¥–∞ –º–∞—Ö–Ω–µ–º 'parent' –∑–∞—â–æ—Ç–æ –Ω–µ –µ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –¥–∞ –µ —Ç–∞–∫–∞?"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–µ–∏–º–µ–Ω—É–≤–∞–º–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è—Ç–∞:
- `ParentClimberLink` ‚Üí `LinkedProfile` –∏–ª–∏ `AuthorizedBooking`
- "My Children" ‚Üí "Linked Profiles" –∏–ª–∏ "Authorized Profiles"
- API: `/parents/me/climbers` ‚Üí `/me/linked-profiles`

### "–ö–∞–∫ –¥–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–º–µ –∫–æ–¥–∞?"
**–†–µ—à–µ–Ω–∏—è –≤ —Å–ª–µ–¥–≤–∞—â–∏—è –¥–æ–∫—É–º–µ–Ω—Ç**

### –ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–æ–µ?
- **Linked Profiles:** –ó–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏ –æ—Ç –∏–º–µ—Ç–æ –Ω–∞ –¥—Ä—É–≥ (–ø–ª–µ–º–µ–Ω–Ω–∏–∫, –ø—Ä–∏—è—Ç–µ–ª—Å–∫–æ –¥–µ—Ç–µ, –°–™–©–û –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–æ –¥–µ—Ç–µ)
- **Family:** –ó–∞ —Å–ø–æ–¥–µ–ª–µ–Ω–∏ gym –∫–∞—Ä—Ç–∏ (–°–ê–ú–û —Ä–æ–¥–∏—Ç–µ–ª + —Å–æ–±—Å—Ç–≤–µ–Ω–∏ –¥–µ—Ü–∞)

**–ü—Ä–∏–º–µ—Ä:**
```
–ò–≤–∞–Ω –∏–º–∞ linkedProfiles: [–ú–∞—Ä–∏—è (–¥—ä—â–µ—Ä—è), –ü–µ—Ç—ä—Ä (–ø–ª–µ–º–µ–Ω–Ω–∏–∫), –ì–µ–æ—Ä–≥–∏ (—Å–∏–Ω –Ω–∞ –ø—Ä–∏—è—Ç–µ–ª)]
  ‚Üí –ú–æ–∂–µ –¥–∞ —Ä–µ–∑–µ—Ä–≤–∏—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∑–∞ –≤—Å–∏—á–∫–∏ —Ç—è—Ö

–°–µ–º–µ–π—Å—Ç–≤–æ "–ò–≤–∞–Ω–æ–≤–∏": [–ò–≤–∞–Ω, –ú–∞—Ä–∏—è, –ì–µ–æ—Ä–≥–∏ (—Å–∏–Ω—ä—Ç –Ω–∞ –ò–≤–∞–Ω)]
  ‚Üí –°–ø–æ–¥–µ–ª—è—Ç —Å–µ–º–µ–π–Ω–∞ gym –∫–∞—Ä—Ç–∞ (–ë–ï–ó –ü–µ—Ç—ä—Ä - —Ç–æ–π –Ω–µ –µ blood relative)
```
